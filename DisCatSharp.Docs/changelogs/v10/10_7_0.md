---
uid: changelogs_v10_10_7_0
title: Version 10.7.0
author: DisCatSharp Team
---

# Upgrade from **10.6.6** to **10.7.0**

> [!IMPORTANT]
> This version introduces **breaking changes** and numerous enhancements. Please review the details carefully before upgrading.

> [!NOTE]
> We added support for .NET 10

> [!WARNING]
> This release contains important bug fixes and improvements.
> We recommend you to upgrade to this version as soon as possible.

> [!WARNING]
> Discord currently has a bug with entitlements for consumables and durables. Entitlements of these types are not returned in interaction events, only on the HTTP API. You can follow this [issue](https://github.com/discord/discord-api-docs/issues/7364) for updates.

---

## Change Highlights

<br/>

This version now support .NET 10 and includes a variety of new features, bug fixes, and improvements.

Some highlights include:

### Components V2

With this version we officially release support for Components V2. Documentation will follow soon, it's still not released by Discord.

All we can say it's amazing and will be fun to play with!

If you're already interested about how it works, you can check out my initial documentation [here](https://github.com/Lulalaby/discord-api-docs/compare/main...comp_v2?expand=1).

If you're using another library, you can check out the implementation status [here](https://discord-lib-devs.notion.site/components-v2-implementation-statuses).

### Statistics

We added built-in statistics to the `DiscordClient` and `DiscordShardedClient`. This will help you to get some basic statistics about your bot.

This includes the number of guilds, channels, users and more.

Here's an example:

```csharp
[SlashCommand("stats", "Statistics about the bot!"), DeferResponseAsync(true)]
public static async Task StatsAsync(InteractionContext ctx)
{
	var statistics = HatsuneMikuBot.ShardedClient.Statistics;
	var averagePing = (int)HatsuneMikuBot.ShardedClient.ShardClients.Values.Average(client => client.Ping);

	DiscordEmbedBuilder builder = new();
	builder.WithTitle("Stats");
	builder.WithDescription($"Some stats about {ctx.Client.CurrentApplication.Name}!");
	foreach (var (key, value) in statistics)
		builder.AddField(new(key.ToString(), value.ToString().InlineCode(), true));
	builder.AddField(new("Ping", $"{averagePing}ms".InlineCode(), true));
	if (ctx.Client.VersionString.Contains('+'))
		builder.AddField(new("Lib (Version)", $"{ctx.Client.BotLibrary}@{ctx.Client.VersionString}".MaskedUrl(new($"https://github.com/Aiko-IT-Systems/DisCatSharp/tree/{ctx.Client.VersionString.Split('+').Last()}")), true));
	else
		builder.AddField(new("Lib (Version)", $"{ctx.Client.BotLibrary}@{ctx.Client.VersionString}".MaskedUrl(new($"https://github.com/Aiko-IT-Systems/DisCatSharp/tree/v{ctx.Client.VersionString.Trim()}")), true));
	builder.AddField(new("API Channel (Discord)", ctx.Client.ApiChannel.ToString().InlineCode(), true));
	builder.AddField(new("API Version (Discord)", ctx.Client.ApiVersion.InlineCode(), true));
	var lavalinkDefaultSession = ctx.Client.GetLavalink()?.DefaultSession();
	if (lavalinkDefaultSession is not null)
		builder.AddField(new("Lavalink Version", $"{await lavalinkDefaultSession.GetLavalinkVersionAsync()}".InlineCode(), true));
	builder.WithThumbnail(ctx.Client.CurrentUser.AvatarUrl);
	if (ctx.Client.CurrentUser.BannerUrl is not null)
		builder.WithImageUrl(ctx.Client.CurrentUser.BannerUrl);
	await ctx.EditResponseAsync(new DiscordWebhookBuilder().AddEmbed(builder.Build()));
}
```

## Stability Improvements

We fixed some issues with the gateway connections and close code handling to improve the stability of the library.

## RoleType

We recently added `RoleType` to `DiscordRole`. This is meant to determine the type of role in an easier way.

Discord does not support this directly, it's a library side thing.

Improtant to note tho: Discords `RoleTags` object is really unstable / broken and changed over the weeks multiple times.

In our best effort we tried to patch it over and over again, but we can't guarantee that this will work in the future.

---

## What changed?

<br/>

### ❕ Breaking Changes

- **DiscordAttachment**: Renamed `MediaType` to `ContentType` to align with Discord's API.
- **DiscordTextComponent**: Switched the position of `customId` and `label` because of nullability.
- **Application Commands**: Removed `dmPermission` fields, causing DisCatSharp to do weird bulk-updates. Use `allowedContexts` instead.
- **LavalinkGuildPlayer**: `RemoveQueue` renamed to [`RemoveFromQueue`]((xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.RemoveFromQueue*)).
- **Url fields**: Any `Url` fields on objects like `DiscordAttachment`, `DiscordEmbed`, etc., are now of type [`DiscordUri`](xref:DisCatSharp.Entities.DiscordUri) instead of `string`. Use `.ToUri()` to get a `Uri` object or use `.ToString()`.
- We updated some namespaces in DisCatSharp.Interactivity. You might need to update your imports for some entities and enums.

### ➕ Additions

#### Added Entities

- [`ApplicationCommandRequireSkuEntitlementAttribute`](xref:DisCatSharp.ApplicationCommands.Attributes.ApplicationCommandRequireSkuEntitlementAttribute)

#### Added Enums

- [`RoleType.PremiumSubscriberTierDraft`](xref:DisCatSharp.Enums.RoleType)
- [`RoleType.ExternalPlatformOrPremiumSubscriber`](xref:DisCatSharp.Enums.RoleType)
- [`DisCatSharpStatisticType`](xref:DisCatSharp.Enums.Core.DisCatSharpStatisticType)

#### Added Properties

- [`DiscordClient.ApiChannel`](xref:DisCatSharp.BaseDiscordClient.ApiChannel)
- [`DiscordClient.ApiVersion`](xref:DisCatSharp.BaseDiscordClient.ApiVersion)
- [`DiscordClient.Statistics`](xref:DisCatSharp.BaseDiscordClient.Statistics)
- [`DiscordShardedClient.ApiChannel`](xref:DisCatSharp.DiscordShardedClient.ApiChannel)
- [`DiscordShardedClient.ApiVersion`](xref:DisCatSharp.DiscordShardedClient.ApiVersion)
- [`DiscordShardedClient.Statistics`](xref:DisCatSharp.DiscordShardedClient.Statistics)
- [`DiscordGuild.SoundboardSounds`](xref:DisCatSharp.Entities.DiscordGuild.SoundboardSounds)
- [`DiscordEmoji PaginationEmojis.Left`](xref:DisCatSharp.Interactivity.PaginationEmojis.Left)
- [`DiscordEmoji PaginationEmojis.Right`](xref:DisCatSharp.Interactivity.PaginationEmojis.Right)
- [`DiscordEmoji PaginationEmojis.SkipLeft`](xref:DisCatSharp.Interactivity.PaginationEmojis.SkipLeft)
- [`DiscordEmoji PaginationEmojis.SkipRight`](xref:DisCatSharp.Interactivity.PaginationEmojis.SkipRight)
- [`DiscordEmoji PaginationEmojis.Stop`](xref:DisCatSharp.Interactivity.PaginationEmojis.Stop)
- [`bool DiscordSignedLink.IsSigned`](xref:DisCatSharp.Entities.DiscordSignedLink.IsSigned)
- [`Optional<bool> DiscordRoleTags.IsGuildProductRole`](xref:DisCatSharp.Entities.DiscordRoleTags.IsGuildProductRole)
- [`string? DiscordUnfurledMedia.ContentType`](xref:DisCatSharp.Entities.DiscordUnfurledMedia.ContentType)

#### Added Enum Values

- [`RoleType.PremiumSubscriberTierDraft`](xref:DisCatSharp.Enums.RoleType)
- [`RoleType.ExternalPlatformOrPremiumSubscriber`](xref:DisCatSharp.Enums.RoleType)

#### Added Methods

- [`DiscordClient.ConsumeEntitlementAsync`](xref:DisCatSharp.DiscordClient.ConsumeEntitlementAsync*)
- [`DiscordClient.CreateTestEntitlementAsync`](xref:DisCatSharp.DiscordClient.CreateTestEntitlementAsync*)
- [`DiscordClient.DeleteTestEntitlementAsync`](xref:DisCatSharp.DiscordClient.DeleteTestEntitlementAsync*)
- [`DiscordEntitlement.ConsumeAsync`](xref:DisCatSharp.Entities.DiscordEntitlement.ConsumeAsync*)
- [`DiscordEntitlement.DeleteTestEntitlementsAsync`](xref:DisCatSharp.Entities.DiscordEntitlement.DeleteTestEntitlementsAsync*)
- [`DiscordSku.GetSubscriptionsAsync`](xref:DisCatSharp.Entities.DiscordSku.GetSubscriptionsAsync*)
- [`DiscordSku.GetSubscriptionAsync`](xref:DisCatSharp.Entities.DiscordSku.GetSubscriptionAsync*)
- [`DiscordSku.CreateTestEntitlementAsync`](xref:DisCatSharp.Entities.DiscordSku.CreateTestEntitlementAsync*)
- [`DiscordGuild.GetMemberVoiceStateAsync`](xref:DisCatSharp.Entities.DiscordGuild.GetMemberVoiceStateAsync*)
- [`LavalinkGuildPlayer.GetLyricsAsync`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.GetLyricsAsync)
- [`LavalinkGuildPlayer.SeekAsync`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.SeekAsync*)
- [`LavalinkGuildPlayer.AddToQueueAt`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.AddToQueueAt*)
- [`LavalinkGuildPlayer.RemoveFromQueueAt`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.RemoveFromQueueAt*)
- [`LavalinkGuildPlayer.RemoveFromQueueAtRange`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.RemoveFromQueueAtRange*)
- [`LavalinkGuildPlayer.SetRepeatMode`](xref:DisCatSharp.Lavalink.Entities.LavalinkGuildPlayer.SetRepeatMode*)
- [`LavalinkSession.GetLyricsAsync`](xref:DisCatSharp.Lavalink.Entities.LavalinkSession.GetLyricsAsync*)
- [`string.Subtext`](xref:DisCatSharp.Utilities.Formatter.Subtext*)
- [`DiscordButtonComponent.WithId`](xref:DisCatSharp.Entities.DiscordButtonComponent.WithId*)
- [`DiscordLinkButtonComponent.WithId`](xref:DisCatSharp.Entities.DiscordLinkButtonComponent.WithId*)
- [`DiscordPremiumButtonComponent.WithId`](xref:DisCatSharp.Entities.DiscordPremiumButtonComponent.WithId*)
- [`DiscordActionRowComponent.WithId`](xref:DisCatSharp.Entities.DiscordActionRowComponent.WithId*)
- [`DiscordChannelSelectComponent.WithId`](xref:DisCatSharp.Entities.DiscordChannelSelectComponent.WithId*)
- [`DiscordMentionableSelectComponent.WithId`](xref:DisCatSharp.Entities.DiscordMentionableSelectComponent.WithId*)
- [`DiscordRoleSelectComponent.WithId`](xref:DisCatSharp.Entities.DiscordRoleSelectComponent.WithId*)
- [`DiscordStringSelectComponent.WithId`](xref:DisCatSharp.Entities.DiscordStringSelectComponent.WithId*)
- [`DiscordUserSelectComponent.WithId`](xref:DisCatSharp.Entities.DiscordUserSelectComponent.WithId*)
- [`DiscordTextComponent.WithId`](xref:DisCatSharp.Entities.DiscordTextComponent.WithId*)
- [`DiscordContainerComponent.WithId`](xref:DisCatSharp.Entities.DiscordContainerComponent.WithId*)
- [`DiscordFileDisplayComponent.WithId`](xref:DisCatSharp.Entities.DiscordFileDisplayComponent.WithId*)
- [`DiscordMediaGalleryComponent.WithId`](xref:DisCatSharp.Entities.DiscordMediaGalleryComponent.WithId*)
- [`DiscordSectionComponent.WithId`](xref:DisCatSharp.Entities.DiscordSectionComponent.WithId*)
- [`DiscordSeparatorComponent.WithId`](xref:DisCatSharp.Entities.DiscordSeparatorComponent.WithId*)
- [`DiscordTextDisplayComponent.WithId`](xref:DisCatSharp.Entities.DiscordTextDisplayComponent.WithId*)
- [`DiscordThumbnailComponent.WithId`](xref:DisCatSharp.Entities.DiscordThumbnailComponent.WithId*)

### 🛠️ Fixes

- Fixed naming on `DiscordClient`: `CreateTestEntitlementsAsync` renamed to [`CreateTestEntitlementAsync`](xref:DisCatSharp.DiscordClient.CreateTestEntitlementAsync*) and `DeleteTestEntitlementsAsync` renamed to [`DeleteTestEntitlementAsync`](xref:DisCatSharp.DiscordClient.DeleteTestEntitlementAsync*).
- Fixed the [`Recalculate`](xref:DisCatSharp.Interactivity.InteractivityHelpers.Recalculate) function for interactivity pages.
- Fixed issues with the `DiscordOAuth2Client`.
- Fixed issues when using the `OAuthWeb` extension to add users to a guild.
- Fixed invalid API routes for [`UpdateCurrentUserApplicationRoleConnectionAsync`](xref:DisCatSharp.DiscordOAuth2Client.UpdateCurrentUserApplicationRoleConnectionAsync*) and [`GetCurrentUserApplicationRoleConnectionAsync`](xref:DisCatSharp.DiscordOAuth2Client.GetCurrentUserApplicationRoleConnectionAsync*).

### ⚠️ Removals

- Removed `ApplicationCommandRequirePremiumAttribute`.

### 📚 Documentation

- Documented again more internal and private code to make library development easier.
- Added missing documentation for public code.

---

## Future Roadmap

<br/>

### Audit Log Functionality Enhancement (Next Up)

We want to revamp how we implement the Discord audit log API. This will enhance the functionality and ease-of-use.
The enhancements we are planning are still in the developmental phase and might change.

### DisCatSharp.Voice (On Hold)

We're working on **DisCatSharp.Voice** which is set to replace the existing **DisCatSharp.VoiceNext**. It's planned to have better performance, stability and maintainability than its predecessor.
Particularly, this will bring back the receiving of incoming audio. Please note that any details are subject to change as development progresses.

### Caching System Overhaul (On Hold)

A major overhaul of our caching system is planned. The goal of this proposed rewrite is to increase reliability, performance and to add flexibility in how data is stored and retrieved.
We are still in the conceptual stage for this.

### DisCatSharp.CommandNext Revamp (Proposed)

A complete rewrite of **DisCatSharp.CommandsNext** is proposed. We want to rewrite this for improved maintainability and for potential performance and usability improvements.

---

## Feedback and Community Engagement

Your input makes DisCatSharp better! We warmly invite you to share feedback, suggestions, or report bugs.

Talking to us helps shape the future of DisCatSharp, ensuring it meets everyone's needs and expectations.


- **Join the Conversation:** Have ideas or questions? Join our [Discord community](https://discord.gg/2HWta4GXus) to discuss features, get help, or just chat with fellow developers.
- **Contribute:** Interested in contributing? Check out our [GitHub repository](https://github.com/Aiko-IT-Systems/DisCatSharp/blob/main/CONTRIBUTING.md) to see how you can contribute code, documentation, or report issues.
- **Stay Updated:** Follow our [news channel](https://discord.com/channels/858089281214087179/976624429935251527) on Discord to stay up to date on the latest developments.

Your involvement is invaluable to us, and we look forward to growing and improving DisCatSharp together with you and everyone else!

---

## Contributors

- [Lulalaby](https://github.com/Lulalaby)
